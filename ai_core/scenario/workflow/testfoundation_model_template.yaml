apiVersion: ai.sap.com/v1alpha1
kind: WorkflowTemplate
metadata:
  name: testfoundation-models-template
  annotations:
    scenarios.ai.sap.com/used-for: "foundation-models"
spec:
  entrypoint: main
  templates:
    - name: main
      inputs:
        parameters:
          - name: prompt
          - name: temperature
          - name: max_tokens
      outputs:
        parameters:
          - name: response
            valueFrom:
              path: /output/response.txt
      container:
        image: docker.io/saplabs/foundation-models-runner:latest
        command: [ "python3" ]
        args:
          - /app/run.py
          - --prompt
          - "{{inputs.parameters.prompt}}"
          - --temperature
          - "{{inputs.parameters.temperature}}"
          - --max_tokens
          - "{{inputs.parameters.max_tokens}}"
        volumeMounts:
          - name: output
            mountPath: /output
      volumes:
        - name: output
          emptyDir: {}
